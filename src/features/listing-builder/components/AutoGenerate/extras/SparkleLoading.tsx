import { motion } from 'motion/react';
import { useId } from 'react';

import { easeOutQuad } from '@/utils/easings';

export function SparkleLoading({
  className,
  styles,
}: {
  className?: string;
  styles?: React.CSSProperties;
}) {
  const pathData =
    'M23.153 4.78954C23.0472 3.95701 22.3389 3.33301 21.4997 3.33301C20.6604 3.33301 19.9521 3.95701 19.8463 4.78954C19.3095 9.01314 18.1698 12.0573 16.3158 14.1934C14.4868 16.3008 11.7934 17.7173 7.74132 18.3532C6.93051 18.4804 6.33301 19.1789 6.33301 19.9997C6.33301 20.8204 6.93051 21.519 7.74132 21.6462C11.7934 22.282 14.4868 23.6986 16.3158 25.8059C18.1698 27.942 19.3095 30.9862 19.8463 35.2098C19.9521 36.0423 20.6604 36.6663 21.4997 36.6663C22.3389 36.6663 23.0472 36.0423 23.153 35.2098C23.6898 30.9862 24.8295 27.942 26.6835 25.8059C28.5126 23.6986 31.206 22.282 35.258 21.6462C36.0688 21.519 36.6663 20.8204 36.6663 19.9997C36.6663 19.1789 36.0688 18.4804 35.258 18.3532C30.9858 17.6828 28.2893 16.1767 26.5116 14.044C24.7012 11.8721 23.6683 8.84347 23.153 4.78954Z';
  const id = useId();
  const radialId = `sparkle-radial-${id}`;
  const linearId = `sparkle-linear-${id}`;
  return (
    <svg
      width="40"
      height="40"
      viewBox="0 0 40 40"
      fill="none"
      className={className}
      style={styles}
    >
      <g opacity="0.28">
        <path
          d="M11.1444 4.7288C11.0118 3.92372 10.3158 3.33301 9.49992 3.33301C8.68399 3.33301 7.98802 3.92372 7.85541 4.7288C7.68875 5.74059 7.32277 6.41901 6.85909 6.87818C6.39377 7.33898 5.71496 7.69277 4.72904 7.85517C3.92396 7.98778 3.33325 8.68374 3.33325 9.49967C3.33325 10.3156 3.92396 11.0116 4.72904 11.1442C5.74083 11.3108 6.41926 11.6768 6.87842 12.1405C7.33922 12.6058 7.69302 13.2846 7.85541 14.2705C7.98802 15.0756 8.68399 15.6663 9.49992 15.6663C10.3158 15.6663 11.0118 15.0756 11.1444 14.2705C11.3068 13.2846 11.6606 12.6058 12.1214 12.1405C12.5806 11.6768 13.259 11.3108 14.2708 11.1442C15.0759 11.0116 15.6666 10.3156 15.6666 9.49967C15.6666 8.68374 15.0759 7.98778 14.2708 7.85517C13.259 7.68851 12.5806 7.32252 12.1214 6.85885C11.6606 6.39352 11.3068 5.71472 11.1444 4.7288Z"
          fill="#818CF8"
        />
        <path
          d="M9.99992 29.4163C9.99992 28.4959 9.25373 27.7497 8.33325 27.7497C7.41278 27.7497 6.66659 28.4959 6.66659 29.4163V29.9997H6.08325C5.16278 29.9997 4.41659 30.7459 4.41659 31.6663C4.41659 32.5868 5.16278 33.333 6.08325 33.333H6.66659V33.9163C6.66659 34.8368 7.41278 35.583 8.33325 35.583C9.25373 35.583 9.99992 34.8368 9.99992 33.9163V33.333H10.5833C11.5037 33.333 12.2499 32.5868 12.2499 31.6663C12.2499 30.7459 11.5037 29.9997 10.5833 29.9997H9.99992V29.4163Z"
          fill="#818CF8"
        />
      </g>
      <motion.path
        d={pathData}
        fill={`url(#${radialId})`}
        animate={{ opacity: [0, 1, 0] }}
        transition={{
          duration: 2,
          repeat: Infinity,
          ease: easeOutQuad,
        }}
      />
      <motion.path
        d={pathData}
        fill={`url(#${linearId})`}
        animate={{ opacity: [0.8, 0, 0.8] }}
        transition={{
          duration: 2,
          repeat: Infinity,
          ease: easeOutQuad,
        }}
      />
      <defs>
        <radialGradient
          id={radialId}
          cx="0"
          cy="0"
          r="1"
          gradientUnits="userSpaceOnUse"
          gradientTransform="translate(21.5 20.9995) rotate(91.5482) scale(18.5068 16.8411)"
        >
          <stop stopColor="#818CF8" />
          <stop offset="1" stopColor="#818CF8" stopOpacity="0" />
        </radialGradient>
        <linearGradient
          id={linearId}
          x1="21.4997"
          y1="3.33301"
          x2="21.4997"
          y2="36.6663"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="#818CF8" />
          <stop offset="1" stopColor="#818CF8" />
        </linearGradient>
      </defs>
    </svg>
  );
}
